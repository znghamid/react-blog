{"version":3,"sources":["components/Navbar.js","webHooks/useFetch.js","components/BlogList.js","components/Home.js","components/Create.js","components/BlogDetails.js","components/NotFound.js","App.js","index.js"],"names":["Navbar","className","to","useFetch","url","useState","data","setData","isPending","setIsPending","errorFetch","setErrorFetch","useEffect","abortCont","AbortController","fetch","signal","then","res","ok","Error","json","catch","err","message","abort","BlogList","blogs","title","map","blog","id","author","Home","setTitle","length","Create","body","setBody","setAuthor","history","useHistory","onSubmit","e","preventDefault","method","headers","JSON","stringify","push","type","required","value","onChange","target","disabled","BlogDetails","useParams","onClick","NotFound","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aee59cd9.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <h1>The React Blog</h1>\r\n      <div className=\"links\">\r\n        <Link to=\"/\">Home</Link>\r\n        <Link to=\"/create\">New Blog</Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n  const [data, setData] = useState(null);\r\n  const [isPending, setIsPending] = useState(true);\r\n  const [errorFetch, setErrorFetch] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const abortCont = new AbortController();\r\n    fetch(url, { signal: abortCont.signal })\r\n      .then(res => {\r\n        if (!res.ok) {\r\n          throw Error(\"could not fetch the data for that resource\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setData(data);\r\n        setIsPending(false);\r\n        setErrorFetch(null);\r\n      })\r\n      .catch(err => {\r\n        if (err.message === 'AbortError') {\r\n          // \r\n        } else {\r\n          setErrorFetch(err.message);\r\n          setIsPending(false);\r\n        }\r\n      });\r\n    return () => abortCont.abort();\r\n  }, [url]);\r\n\r\n  return { data, isPending, errorFetch };\r\n}\r\n\r\nexport default useFetch;","import { Link } from \"react-router-dom\";\r\n\r\nconst BlogList = ({ blogs, title }) => {\r\n  return (\r\n    <div className=\"blog-list\">\r\n      <h2>{title}</h2>\r\n      {blogs.map((blog) => (\r\n        <div className=\"blog-preview\" key={blog.id}>\r\n          <Link to={`/blogs/${blog.id}`}>\r\n            <h2>{blog.title}</h2>\r\n            <p>written by {blog.author}</p>\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlogList;","import { useEffect, useState } from 'react';\r\nimport useFetch from '../webHooks/useFetch';\r\nimport BlogList from './BlogList';\r\n\r\nconst Home = () => {\r\n  const [title, setTitle] = useState('All Blogs');\r\n  const {data: blogs, isPending, errorFetch} = useFetch('https://my-json-server.typicode.com/znghamid/jsonDB/blogs');\r\n  useEffect(() => {\r\n    if (blogs) {\r\n      if (blogs.length === 0) {\r\n        setTitle('No Blog to show');\r\n      }\r\n    }\r\n  }, [blogs]);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {errorFetch && <div>{errorFetch}</div>}\r\n      {isPending && <div>Loading...</div>}\r\n      {blogs && <BlogList blogs={blogs} title={title} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Create = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [author, setAuthor] = useState('hamidreza');\r\n  const [isPending, setIsPending] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const blog = {\r\n      title,\r\n      body,\r\n      author\r\n    };\r\n\r\n    setIsPending(true);\r\n\r\n    fetch('https://my-json-server.typicode.com/znghamid/jsonDB/blogs/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(blog)\r\n    }).then(() => {\r\n      setIsPending(false);\r\n      history.push('/');\r\n    });\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"create\">\r\n      <h2>Create a New Blog</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Blog title:</label>\r\n        <input\r\n          type=\"text\"\r\n          required\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <label>Blog body:</label>\r\n        <textarea\r\n          required\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        ></textarea>\r\n        <label>Blog author:</label>\r\n        <select\r\n          value={author}\r\n          onChange={(e) => setAuthor(e.target.value)}\r\n        >\r\n          <option value=\"mario\">mario</option>\r\n          <option value=\"yoshi\">yoshi</option>\r\n          <option value=\"hamidreza\">hamidreza</option>\r\n          <option value=\"arash\">arash</option>\r\n        </select>\r\n        {!isPending && <button>Add Blog</button>}\r\n        {isPending && <button disabled>Adding blog...</button>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Create;","import { useHistory, useParams } from \"react-router-dom\";\r\nimport useFetch from \"../webHooks/useFetch\";\r\n\r\nconst BlogDetails = () => {\r\n  const {id} = useParams();\r\n  const {data: blog, isPending, errorFetch} = useFetch(`https://my-json-server.typicode.com/znghamid/jsonDB/blogs/${id}`);\r\n  const history = useHistory();\r\n\r\n  const handleDelete = () => {\r\n    fetch(\"https://my-json-server.typicode.com/znghamid/jsonDB/blogs/\" + blog.id, {\r\n      method: 'DELETE'\r\n    }).then(() => {\r\n      history.push('/');\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"blog-details\">\r\n      {isPending && <div>Loading...</div>}\r\n      {errorFetch && <div>{errorFetch}</div>}\r\n      {blog && (\r\n        <article>\r\n          <h2>{blog.title}</h2>\r\n          <p>{blog.author}</p>\r\n          <div>{blog.body}</div>\r\n          <button onClick={handleDelete}>Delete</button>\r\n        </article>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlogDetails;\r\n","import { Link } from \"react-router-dom\"\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h2>Sorry</h2>\r\n      <p>Page Not Found</p>\r\n      <Link to=\"/\">Back to home...</Link>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default NotFound;","import Navbar from './components/Navbar';\r\nimport Home from './components/Home';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Create from './components/Create';\r\nimport BlogDetails from './components/BlogDetails';\r\nimport NotFound from './components/NotFound';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Navbar />\r\n        <div className=\"content\">\r\n          <Switch>\r\n            <Route path=\"/\" component={Home} exact />\r\n            <Route path=\"/create\" component={Create} exact />\r\n            <Route path=\"/blogs/:id\" component={BlogDetails} exact />\r\n            <Route path=\"\" component={NotFound} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}